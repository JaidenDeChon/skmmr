$(document).ready(function(){function e(){$.getJSON("https://newsapi.org/v2/top-headlines?country="+r+"&pageSize=40&apiKey=ab69fb9ba2d540aaabff5ec14e1f7e59",function(e){var t=e.articles;$.each(t,function(e,t){var s=t,a=s.title;if(null==s.description)var o="";else var o=s.description;var l=s.publishedAt;if(null==s.urlToImage)var i="assets/img/skmmr-placeholder-80.jpg";else var i=s.urlToImage;var r=s.url,n=s.source.name;$(".news-list").append('<section class="news-group"><a href="'+r+'" target="_blank"><div class="news-image"><img src="'+i+'"/></div></a><article class="news-text"><a href="'+r+'" target="_blank"><h1 class="news-headline">'+a+'</h1></a><p class="news-lead">'+o+'</p><footer class="meta"><small class="timestamp">'+l+'</small><small class="news-source">'+n+"</small></footer></article></section>")}),sessionStorage.getItem("theme")&&($(".source-theme .toggle-circle").toggleClass("toggle-highlight"),$("body, .masthead, .logo, .site-title h1, .site-tagline, .source-menu, .source-menu ul, .news-group, .news-headline, .timestamp, .news-source, footer.attribution, .feedback, .country-name").addClass("night")),c?$(".news-headline, .news-lead").addClass("rtl"):$(".news-headline, .news-lead").removeClass("rtl")})}function t(){$.getJSON("https://newsapi.org/v2/top-headlines?sources="+l+"&pageSize=40&apiKey=ab69fb9ba2d540aaabff5ec14e1f7e59",function(e){var t=e.articles;$.each(t,function(e,t){var s=t,a=s.title,o=s.description,l=s.publishedAt;if(null==s.urlToImage)var i="assets/img/skmmr-placeholder-80.jpg";else var i=s.urlToImage;var r=s.url,n=s.source.name;$(".news-list").append('<section class="news-group"><a href="'+r+'" target="_blank"><div class="news-image"><img src="'+i+'"/></div></a><article class="news-text"><a href="'+r+'" target="_blank"><h1 class="news-headline">'+a+'</h1></a><p class="news-lead">'+o+'</p><footer class="meta"><small class="timestamp">'+l+'</small><small class="news-source">'+n+"</small></footer></article></section>")}),sessionStorage.getItem("theme")&&($(".source-theme .toggle-circle").toggleClass("toggle-highlight"),$("body, .masthead, .logo, .site-title h1, .site-tagline, .source-menu, .source-menu ul, .news-group, .news-headline, .timestamp, .news-source, footer.attribution, .feedback, .country-name").addClass("night"))})}function s(){$.getJSON("https://newsapi.org/v2/everything?sources="+l+"&pageSize=100&pages=10&apiKey=ab69fb9ba2d540aaabff5ec14e1f7e59",function(e){var t=e.articles;$.each(t,function(e,t){var s=t,a=s.title,o=s.description,l=s.publishedAt;if(null==s.urlToImage)var i="assets/img/skmmr-placeholder-80.jpg";else var i=s.urlToImage;var r=s.url,n=s.source.name;$(".news-list").append('<section class="news-group"><a href="'+r+'"><div class="news-image"><img src="'+i+'"/></div></a><article class="news-text"><a href="'+r+'"><h1 class="news-headline">'+a+'</h1></a><p class="news-lead">'+o+'</p><footer class="meta"><small class="timestamp">'+l+'</small><small class="news-source">'+n+"</small></footer></article></section>")}),sessionStorage.getItem("theme")&&($(".source-theme .toggle-circle").toggleClass("toggle-highlight"),$("body, .masthead, .logo, .site-title h1, .site-tagline, .source-menu, .source-menu ul, .news-group, .news-headline, .timestamp, .news-source, footer.attribution, .feedback, .country-name").addClass("night"))})}function a(){$.getJSON("https://newsapi.org/v2/everything?sources="+l+"&pageSize=100&pages=10&language=en&apiKey=ab69fb9ba2d540aaabff5ec14e1f7e59",function(e){var t=e.articles;$.each(t,function(e,t){var s=t,a=s.title,o=s.description,l=s.publishedAt;if(null==s.urlToImage)var i="assets/img/skmmr-placeholder-80.jpg";else var i=s.urlToImage;var r=s.url,n=s.source.name;$(".news-list").append('<section class="news-group"><a href="'+r+'"><div class="news-image"><img src="'+i+'"/></div></a><article class="news-text"><a href="'+r+'"><h1 class="news-headline">'+a+'</h1></a><p class="news-lead">'+o+'</p><footer class="meta"><small class="timestamp">'+l+'</small><small class="news-source">'+n+"</small></footer></article></section>")}),sessionStorage.getItem("theme")&&($(".source-theme .toggle-circle").toggleClass("toggle-highlight"),$("body, .masthead, .logo, .site-title h1, .site-tagline, .source-menu, .source-menu ul, .news-group, .news-headline, .timestamp, .news-source, footer.attribution, .feedback, .country-name").addClass("night"))})}localStorage.getItem("feedback-given")&&$(".feedback").addClass("hide"),$(".feedback-options p").on("click",function(){$(".feedback").html("<p>Thanks for your feedback!</p>"),localStorage.setItem("feedback-given","yes")}),$(".refresh-page").on("click",function(){window.location.reload()}),$(window).scroll(function(){$(window).scrollTop()>100?$(".to-top").removeClass("hide"):$(".to-top").addClass("hide")}),$(".source-menu-trigger").on("click",function(){$(".source-menu").addClass("show-menu"),$(".overlay").removeClass("hide")}),$(".source-menu-close, .source-link, .overlay").on("click",function(){$(".source-menu").removeClass("show-menu"),$(".overlay").addClass("hide")}),localStorage.getItem("lang")&&($(".source-lang .toggle-circle").toggleClass("toggle-highlight"),$(".source-link:not(.lang-en)").toggleClass("hide"),$(".filter-everything").addClass("filter-en")),$(".source-lang .toggle").on("click",function(){$(".source-lang .toggle-circle").toggleClass("toggle-highlight"),$(".source-link:not(.lang-en)").toggleClass("hide"),$(".filter-everything").addClass("filter-en"),$(".source-lang .toggle-circle").is(".toggle-highlight")?localStorage.setItem("lang","en"):localStorage.removeItem("lang")}),$(".source-theme .toggle").on("click",function(){$(".source-theme .toggle-circle").toggleClass("toggle-highlight"),$("body, .masthead, .logo, .site-title h1, .site-tagline, .source-menu, .source-menu ul, .news-group, .news-headline, .timestamp, .news-source, footer.attribution, .feedback, .country-name").toggleClass("night"),$(".source-theme .toggle-circle").is(".toggle-highlight")?sessionStorage.setItem("theme","dark"):sessionStorage.removeItem("theme")}),$(".accordion-source-menu-trigger").on("click",function(){var e=$(this),t=e.attr("data-source");e.children(".accordion-source-menu-arrow").toggleClass("accordion-source-menu-arrow-active"),$("."+t+"-menu").toggleClass("hide")}),$(".flag-image").on("click",function(){var e=$(this),t=e.attr("data-country"),s=e.attr("data-name"),a=e.attr("data-direction");localStorage.removeItem("source"),sessionStorage.setItem("countryID",t),sessionStorage.setItem("countryName",s),a?sessionStorage.setItem("textDirection",a):sessionStorage.removeItem("textDirection"),window.location.reload()}),$(".feedback-header").on("click",function(){$(".feedback-content").removeClass("hide")});var o="reuters",l=o,i=localStorage.getItem("source"),r=(sessionStorage.getItem("theme"),sessionStorage.getItem("countryID")),n=sessionStorage.getItem("countryName");if(sessionStorage.getItem("textDirection"))var c=sessionStorage.getItem("textDirection");if(localStorage.getItem("source"))var l=i;$(".source-link").on("click",function(){var e=$(this),t=e.attr("data-source");localStorage.setItem("source",t),sessionStorage.removeItem("countryID"),sessionStorage.removeItem("countryName"),window.location.reload()}),$(".filter").on("click",function(){var e=$(this);$(".filter").removeClass("news-filter-active"),e.addClass("news-filter-active")}),$(".filter-top-stories").on("click",function(){$(".news-list").html(""),localStorage.removeItem("latest"),t()}),$(".filter-everything").on("click",function(){var e=$(this);$(".news-list").html(""),localStorage.setItem("latest","yes"),e.is(".filter-en")?a():s()}),sessionStorage.getItem("countryID")?($(".country-name").removeClass("hide").text(n),$(".news-filter").addClass("hide"),e()):localStorage.getItem("latest")&&$(".filter-everything").is(".filter-en")?($(".country-name").addClass("hide"),a(),$(".filter").removeClass("news-filter-active"),$(".filter-everything").addClass("news-filter-active")):localStorage.getItem("latest")?(s(),$(".filter").removeClass("news-filter-active"),$(".filter-everything").addClass("news-filter-active")):t()});