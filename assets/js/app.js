$(document).ready(function(){function e(){$.getJSON("https://newsapi.org/v2/top-headlines?sources="+l+"&pageSize=40&apiKey=ab69fb9ba2d540aaabff5ec14e1f7e59",function(e){var t=e.articles;$.each(t,function(e,t){var s=t,a=s.title,l=s.description,o=s.publishedAt,i=s.urlToImage,n=s.url,c=s.source.name;$(".news-list").append('<section class="news-group"><a href="'+n+'"><div class="news-image"><img src="'+i+'"/></div></a><article class="news-text"><a href="'+n+'"><h1 class="news-headline">'+a+'</h1></a><p class="news-lead">'+l+'</p><footer class="meta"><small class="timestamp">'+o+'</small><small class="news-source">'+c+"</small></footer></article></section>")}),sessionStorage.getItem("theme")&&($(".source-theme .toggle-circle").toggleClass("toggle-highlight"),$("body, .masthead, .site-title, .site-tagline, .source-menu, .source-menu ul, .news-group, .news-headline, .timestamp, .news-source, footer.attribution, .feedback").addClass("night"))})}function t(){$.getJSON("https://newsapi.org/v2/everything?sources="+l+"&pageSize=100&pages=10&apiKey=ab69fb9ba2d540aaabff5ec14e1f7e59",function(e){var t=e.articles;$.each(t,function(e,t){var s=t,a=s.title,l=s.description,o=s.publishedAt,i=s.urlToImage,n=s.url,c=s.source.name;$(".news-list").append('<section class="news-group"><a href="'+n+'"><div class="news-image"><img src="'+i+'"/></div></a><article class="news-text"><a href="'+n+'"><h1 class="news-headline">'+a+'</h1></a><p class="news-lead">'+l+'</p><footer class="meta"><small class="timestamp">'+o+'</small><small class="news-source">'+c+"</small></footer></article></section>")}),sessionStorage.getItem("theme")&&($(".source-theme .toggle-circle").toggleClass("toggle-highlight"),$("body, .masthead, .site-title, .site-tagline, .source-menu, .source-menu ul, .news-group, .news-headline, .timestamp, .news-source, footer.attribution, .feedback").addClass("night"))})}function s(){$.getJSON("https://newsapi.org/v2/everything?sources="+l+"&pageSize=100&pages=10&language=en&apiKey=ab69fb9ba2d540aaabff5ec14e1f7e59",function(e){var t=e.articles;$.each(t,function(e,t){var s=t,a=s.title,l=s.description,o=s.publishedAt,i=s.urlToImage,n=s.url,c=s.source.name;$(".news-list").append('<section class="news-group"><a href="'+n+'"><div class="news-image"><img src="'+i+'"/></div></a><article class="news-text"><a href="'+n+'"><h1 class="news-headline">'+a+'</h1></a><p class="news-lead">'+l+'</p><footer class="meta"><small class="timestamp">'+o+'</small><small class="news-source">'+c+"</small></footer></article></section>")}),sessionStorage.getItem("theme")&&($(".source-theme .toggle-circle").toggleClass("toggle-highlight"),$("body, .masthead, .site-title, .site-tagline, .source-menu, .source-menu ul, .news-group, .news-headline, .timestamp, .news-source, footer.attribution, .feedback").addClass("night"))})}localStorage.getItem("feedback-given")&&$(".feedback").addClass("hide"),$(".feedback-options p").on("click",function(){$(".feedback").html("<p>Thanks for your feedback!</p>"),localStorage.setItem("feedback-given","yes")}),$(".refresh-page").on("click",function(){window.location.reload()}),$(window).scroll(function(){$(window).scrollTop()>100?$(".to-top").removeClass("hide"):$(".to-top").addClass("hide")}),$(".source-menu-trigger").on("click",function(){$(".source-menu").addClass("show-menu"),$(".overlay").removeClass("hide")}),$(".source-menu-close, .source-link, .overlay").on("click",function(){$(".source-menu").removeClass("show-menu"),$(".overlay").addClass("hide")}),localStorage.getItem("lang")&&($(".source-lang .toggle-circle").toggleClass("toggle-highlight"),$(".source-link:not(.lang-en)").toggleClass("hide"),$(".filter-everything").addClass("filter-en")),$(".source-lang .toggle").on("click",function(){$(".source-lang .toggle-circle").toggleClass("toggle-highlight"),$(".source-link:not(.lang-en)").toggleClass("hide"),$(".filter-everything").addClass("filter-en"),$(".source-lang .toggle-circle").is(".toggle-highlight")?localStorage.setItem("lang","en"):localStorage.removeItem("lang")}),$(".source-theme .toggle").on("click",function(){$(".source-theme .toggle-circle").toggleClass("toggle-highlight"),$("body, .masthead, .site-title, .site-tagline, .source-menu, .source-menu ul, .news-group, .news-headline, .timestamp, .news-source, footer.attribution, .feedback").toggleClass("night"),$(".source-theme .toggle-circle").is(".toggle-highlight")?sessionStorage.setItem("theme","dark"):sessionStorage.removeItem("theme")}),$(".feedback-header").on("click",function(){$(".feedback-content").removeClass("hide")});var a="reuters",l=a,o=localStorage.getItem("source");sessionStorage.getItem("theme");if(localStorage.getItem("source"))var l=o;$(".source-link").on("click",function(){var e=$(this),t=e.attr("data-source");localStorage.setItem("source",t),window.location.reload()}),$(".filter").on("click",function(){var e=$(this);$(".filter").removeClass("news-filter-active"),e.addClass("news-filter-active")}),$(".filter-top-stories").on("click",function(){$(".news-list").html(""),localStorage.removeItem("latest"),e()}),$(".filter-everything").on("click",function(){var e=$(this);$(".news-list").html(""),localStorage.setItem("latest","yes"),e.is(".filter-en")?s():t()}),localStorage.getItem("latest")&&$(".filter-everything").is(".filter-en")?(s(),$(".filter").removeClass("news-filter-active"),$(".filter-everything").addClass("news-filter-active")):localStorage.getItem("latest")?(t(),$(".filter").removeClass("news-filter-active"),$(".filter-everything").addClass("news-filter-active")):e()});